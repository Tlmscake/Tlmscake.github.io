{"version":3,"sources":["webpack:///src/components/library/SideMenu.vue","webpack:///./src/components/library/SideMenu.vue?e81a","webpack:///./src/components/library/SideMenu.vue","webpack:///./src/components/library/ImgUpload.vue?e7a1","webpack:///src/components/library/EditForm.vue","webpack:///./src/components/library/ImgUpload.vue","webpack:///src/components/library/ImgUpload.vue","webpack:///./src/components/library/EditForm.vue?a133","webpack:///./src/components/library/EditForm.vue","webpack:///./src/components/library/SearchBar.vue?896a","webpack:///./src/components/library/SearchBar.vue","webpack:///src/components/library/Books.vue","webpack:///src/components/library/SearchBar.vue","webpack:///./src/components/library/Books.vue?4eac","webpack:///./src/components/library/Books.vue","webpack:///src/components/library/LibraryIndex.vue","webpack:///./src/components/library/LibraryIndex.vue?ed7e","webpack:///./src/components/library/LibraryIndex.vue"],"names":["library_SideMenu","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","default-active","active-text-color","on","select","handleSelect","index","_v","slot","staticRenderFns","components_library_SideMenu","__webpack_require__","normalizeComponent","name","data","cid","methods","key","$emit","ssrContext","library_ImgUpload","ref","action","on-preview","handlePreview","on-remove","handleRemove","before-remove","beforeRemove","on-success","handleSuccess","multiple","limit","on-exceed","handleExceed","file-list","fileList","size","type","EditForm","components","ImgUpload","ImgUpload_normalizeComponent","url","file","files","$message","warning","length","$confirm","response","clear","$refs","upload","clearFiles","dialogFormVisible","isInsertBook","form","id","title","author","date","press","cover","abs","category","formLabelWidth","onSubmit","_this","console","log","$axios","post","then","resp","uploadImg","imgUpload","library_EditForm","click","$event","visible","update:visible","close","staticStyle","text-align","model","value","callback","$$v","expression","label","label-width","prop","autocomplete","placeholder","$set","onUpload","height","library_SearchBar","margin-bottom","display","justify-content","align-items","width","margin-right","prefix-icon","nativeOn","keyup","indexOf","_k","keyCode","searchClick","apply","arguments","keywords","icon","Books","EditForm_normalizeComponent","SearchBar","SearchBar_normalizeComponent","books","cardLoading","currentPage","pagesize","username","JSON","parse","window","localStorage","getItem","mounted","loadBooks","get","params","handleCurrentChange","searchResult","searchBar","deleteBook","_this2","confirmButtonText","cancelButtonText","catch","message","editBook","item","edit","library_Books","onSearch","_l","slice","effect","placement","font-size","_s","float","bodyStyle","shadow","src","alt","href","current-page","page-size","total","current-change","LibraryIndex","Books_normalizeComponent","SideMenu","listByCategory","sideMenu","booksArea","status","library_LibraryIndex","margin-top","indexSelect","LibraryIndex_Component","LibraryIndex_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/0.676e4c9814941c31f6cb.js","sourcesContent":["<template>\r\n  <el-menu\r\n    class=\"categories\"\r\n    default-active=\"0\"\r\n    @select=\"handleSelect\"\r\n    active-text-color=\"red\">\r\n    <el-menu-item index=\"0\">\r\n      <i class=\"el-icon-menu\"></i>\r\n      <span slot=\"title\">全部</span>\r\n    </el-menu-item>\r\n    <el-menu-item index=\"1\">\r\n      <i class=\"el-icon-menu\"></i>\r\n      <span slot=\"title\">文学</span>\r\n    </el-menu-item>\r\n    <el-menu-item index=\"2\">\r\n      <i class=\"el-icon-menu\"></i>\r\n      <span slot=\"title\">流行</span>\r\n    </el-menu-item>\r\n    <el-menu-item index=\"3\">\r\n      <i class=\"el-icon-menu\"></i>\r\n      <span slot=\"title\">文化</span>\r\n    </el-menu-item>\r\n    <el-menu-item index=\"4\">\r\n      <i class=\"el-icon-menu\"></i>\r\n      <span slot=\"title\">生活</span>\r\n    </el-menu-item>\r\n    <el-menu-item index=\"5\">\r\n      <i class=\"el-icon-menu\"></i>\r\n      <span slot=\"title\">经管</span>\r\n    </el-menu-item>\r\n    <el-menu-item index=\"6\">\r\n      <i class=\"el-icon-menu\"></i>\r\n      <span slot=\"title\">科技</span>\r\n    </el-menu-item>\r\n  </el-menu>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'SideMenu',\r\n    data () {\r\n      return {\r\n        cid: ''\r\n      }\r\n    },\r\n    methods: {\r\n      handleSelect (key) {\r\n        this.cid = key\r\n        this.$emit('indexSelect')\r\n        //调用indexSelect 触发父组件LibraryIndex中的listByCategory函数 \r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .categories {\r\n    position: fixed;\r\n    margin-left: 50%;\r\n    left: -600px;\r\n    top: 100px;\r\n    width: 150px;\r\n  }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/library/SideMenu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-menu',{staticClass:\"categories\",attrs:{\"default-active\":\"0\",\"active-text-color\":\"red\"},on:{\"select\":_vm.handleSelect}},[_c('el-menu-item',{attrs:{\"index\":\"0\"}},[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"全部\")])]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"1\"}},[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"文学\")])]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"2\"}},[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"流行\")])]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"3\"}},[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"文化\")])]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"4\"}},[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"生活\")])]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"5\"}},[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"经管\")])]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"6\"}},[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"科技\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fb247992\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/library/SideMenu.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fb247992\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SideMenu.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SideMenu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SideMenu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fb247992\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SideMenu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fb247992\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/library/SideMenu.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-upload',{ref:\"upload\",staticClass:\"img-upload\",attrs:{\"action\":\"http://localhost:8443/api/covers\",\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"before-remove\":_vm.beforeRemove,\"on-success\":_vm.handleSuccess,\"multiple\":\"\",\"limit\":1,\"on-exceed\":_vm.handleExceed,\"file-list\":_vm.fileList}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-399ada3e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/library/ImgUpload.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <i\r\n      class=\"el-icon-circle-plus-outline\"\r\n      @click=\"(dialogFormVisible = true), (isInsertBook = true)\"\r\n    ></i>\r\n    <el-dialog\r\n      title=\"添加/修改图书\"\r\n      :visible.sync=\"dialogFormVisible\"\r\n      @close=\"clear\"\r\n    >\r\n      <el-form v-model=\"form\" style=\"text-align: left\" ref=\"dataForm\">\r\n        <el-form-item label=\"书名\" :label-width=\"formLabelWidth\" prop=\"title\">\r\n          <el-input\r\n            v-model=\"form.title\"\r\n            autocomplete=\"off\"\r\n            placeholder=\"不加《》\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"作者\" :label-width=\"formLabelWidth\" prop=\"author\">\r\n          <el-input v-model=\"form.author\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"出版日期\"\r\n          :label-width=\"formLabelWidth\"\r\n          prop=\"date\"\r\n        >\r\n          <el-input v-model=\"form.date\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"出版社\" :label-width=\"formLabelWidth\" prop=\"press\">\r\n          <el-input v-model=\"form.press\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"封面\" :label-width=\"formLabelWidth\" prop=\"cover\">\r\n          <el-input\r\n            v-model=\"form.cover\"\r\n            autocomplete=\"off\"\r\n            placeholder=\"图片 URL\"\r\n          ></el-input>\r\n          <img-upload @onUpload=\"uploadImg\" ref=\"imgUpload\"></img-upload>\r\n        </el-form-item>\r\n        <el-form-item label=\"简介\" :label-width=\"formLabelWidth\" prop=\"abs\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"form.abs\"\r\n            autocomplete=\"off\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"分类\" :label-width=\"formLabelWidth\" prop=\"cid\">\r\n          <el-select v-model=\"form.category.id\" placeholder=\"请选择分类\">\r\n            <el-option label=\"文学\" value=\"1\"></el-option>\r\n            <el-option label=\"流行\" value=\"2\"></el-option>\r\n            <el-option label=\"文化\" value=\"3\"></el-option>\r\n            <el-option label=\"生活\" value=\"4\"></el-option>\r\n            <el-option label=\"经管\" value=\"5\"></el-option>\r\n            <el-option label=\"科技\" value=\"6\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item prop=\"id\" style=\"height: 0\">\r\n          <el-input\r\n            type=\"hidden\"\r\n            v-model=\"form.id\"\r\n            autocomplete=\"off\"\r\n          ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"onSubmit\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ImgUpload from \"./ImgUpload\";\r\n// import ImgUpload from './ImgUpload.vue';\r\nexport default {\r\n  components: { ImgUpload },\r\n  name: \"EditForm\",\r\n  data() {\r\n    return {\r\n      dialogFormVisible: false,\r\n      isInsertBook: false,\r\n      form: {\r\n        id: \"\",\r\n        title: \"\",\r\n        author: \"\",\r\n        date: \"\",\r\n        press: \"\",\r\n        cover: \"\",\r\n        abs: \"\",\r\n        category: {\r\n          id: \"\",\r\n          name: \"\",\r\n        },\r\n      },\r\n      formLabelWidth: \"120px\",\r\n    };\r\n  },\r\n  methods: {\r\n    //清除表单中的编辑值，防止下次打开时存在\r\n    clear() {\r\n      this.form = {\r\n        id: \"\",\r\n        title: \"\",\r\n        author: \"\",\r\n        date: \"\",\r\n        press: \"\",\r\n        cover: \"\",\r\n        abs: \"\",\r\n        category: \"\",\r\n      };\r\n    },\r\n    onSubmit() {\r\n      console.log(this.form);\r\n      if (this.isInsertBook == true) {\r\n        this.$axios\r\n          .post(\"http://localhost:3001/api/newbooks\", {\r\n            id: this.form.id,\r\n            cover: this.form.cover,\r\n            title: this.form.title,\r\n            author: this.form.author,\r\n            date: this.form.date,\r\n            press: this.form.press,\r\n            abs: this.form.abs,\r\n            category: this.form.category,\r\n          })\r\n          .then((resp) => {\r\n            if (resp) {\r\n              this.dialogFormVisible = false;\r\n              this.$emit(\"onSubmit\");\r\n            }\r\n          });\r\n      } else {\r\n        this.$axios\r\n          .post(\"http://localhost:3001/api/books\", {\r\n            id: this.form.id,\r\n            cover: this.form.cover,\r\n            title: this.form.title,\r\n            author: this.form.author,\r\n            date: this.form.date,\r\n            press: this.form.press,\r\n            abs: this.form.abs,\r\n            category: this.form.category,\r\n          })\r\n          .then((resp) => {\r\n            if (resp) {\r\n              this.dialogFormVisible = false;\r\n              this.$emit(\"onSubmit\");\r\n            }\r\n          });\r\n      }\r\n    },\r\n    uploadImg() {\r\n      this.form.cover = this.$refs.imgUpload.url;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-icon-circle-plus-outline {\r\n  margin: 50px 0 0 20px;\r\n  font-size: 100px;\r\n  float: left;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/library/EditForm.vue","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImgUpload.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImgUpload.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-399ada3e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ImgUpload.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/library/ImgUpload.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-upload\r\n    class=\"img-upload\"\r\n    ref=\"upload\"\r\n    action=\"http://localhost:8443/api/covers\"\r\n    :on-preview=\"handlePreview\"\r\n    :on-remove=\"handleRemove\"\r\n    :before-remove=\"beforeRemove\"\r\n    :on-success=\"handleSuccess\"\r\n    multiple\r\n    :limit=\"1\"\r\n    :on-exceed=\"handleExceed\"\r\n    :file-list=\"fileList\">\r\n    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n    <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n  </el-upload>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'ImgUpload',\r\n    data () {\r\n      return {\r\n        fileList: [],\r\n        url: ''\r\n      }\r\n    },\r\n    methods: {\r\n      handleRemove (file, fileList) {\r\n      },\r\n      handlePreview (file) {\r\n      },\r\n      handleExceed (files, fileList) {\r\n        this.$message.warning(`当前限制选择 1 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`)\r\n      },\r\n      beforeRemove (file, fileList) {\r\n        return this.$confirm(`确定移除 ${file.name}？`)\r\n      },\r\n      handleSuccess (response) {\r\n        this.url = response\r\n        this.$emit('onUpload')\r\n        this.$message.warning('上传成功')\r\n      },\r\n      clear () {\r\n        this.$refs.upload.clearFiles()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/library/ImgUpload.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('i',{staticClass:\"el-icon-circle-plus-outline\",on:{\"click\":function($event){(_vm.dialogFormVisible = true), (_vm.isInsertBook = true)}}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加/修改图书\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event},\"close\":_vm.clear}},[_c('el-form',{ref:\"dataForm\",staticStyle:{\"text-align\":\"left\"},model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}},[_c('el-form-item',{attrs:{\"label\":\"书名\",\"label-width\":_vm.formLabelWidth,\"prop\":\"title\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"不加《》\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"作者\",\"label-width\":_vm.formLabelWidth,\"prop\":\"author\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.author),callback:function ($$v) {_vm.$set(_vm.form, \"author\", $$v)},expression:\"form.author\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"出版日期\",\"label-width\":_vm.formLabelWidth,\"prop\":\"date\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"出版社\",\"label-width\":_vm.formLabelWidth,\"prop\":\"press\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.press),callback:function ($$v) {_vm.$set(_vm.form, \"press\", $$v)},expression:\"form.press\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"封面\",\"label-width\":_vm.formLabelWidth,\"prop\":\"cover\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"图片 URL\"},model:{value:(_vm.form.cover),callback:function ($$v) {_vm.$set(_vm.form, \"cover\", $$v)},expression:\"form.cover\"}}),_vm._v(\" \"),_c('img-upload',{ref:\"imgUpload\",on:{\"onUpload\":_vm.uploadImg}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"简介\",\"label-width\":_vm.formLabelWidth,\"prop\":\"abs\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autocomplete\":\"off\"},model:{value:(_vm.form.abs),callback:function ($$v) {_vm.$set(_vm.form, \"abs\", $$v)},expression:\"form.abs\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分类\",\"label-width\":_vm.formLabelWidth,\"prop\":\"cid\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择分类\"},model:{value:(_vm.form.category.id),callback:function ($$v) {_vm.$set(_vm.form.category, \"id\", $$v)},expression:\"form.category.id\"}},[_c('el-option',{attrs:{\"label\":\"文学\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"流行\",\"value\":\"2\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"文化\",\"value\":\"3\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"生活\",\"value\":\"4\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"经管\",\"value\":\"5\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"科技\",\"value\":\"6\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"height\":\"0\"},attrs:{\"prop\":\"id\"}},[_c('el-input',{attrs:{\"type\":\"hidden\",\"autocomplete\":\"off\"},model:{value:(_vm.form.id),callback:function ($$v) {_vm.$set(_vm.form, \"id\", $$v)},expression:\"form.id\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fd8a8f8c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/library/EditForm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fd8a8f8c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditForm.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditForm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fd8a8f8c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fd8a8f8c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/library/EditForm.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-bottom\":\"30px\",\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\",\"margin-right\":\"10px\"},attrs:{\"placeholder\":\"通过书名或作者搜索...\",\"prefix-icon\":\"el-icon-search\",\"size\":\"small\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchClick.apply(null, arguments)}},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchClick}},[_vm._v(\"搜索\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5764f214\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/library/SearchBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5764f214\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SearchBar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SearchBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SearchBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5764f214\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SearchBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5764f214\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/library/SearchBar.vue\n// module id = null\n// module chunks = ","<template>\r\n<body>\r\n  <div>\r\n    <el-row style=\"height: 840px\">\r\n      <search-bar @onSearch=\"searchResult\" ref=\"searchBar\"></search-bar>\r\n      <el-tooltip\r\n        effect=\"dark\"\r\n        placement=\"right\"\r\n        v-for=\"item in books.slice(\r\n          (currentPage - 1) * pagesize,\r\n          currentPage * pagesize\r\n        )\"\r\n        :key=\"item.id\"\r\n      >\r\n        <p slot=\"content\" style=\"font-size: 14px; margin-bottom: 6px\">\r\n          {{ item.title }}\r\n        </p>\r\n        <p slot=\"content\" style=\"font-size: 13px; margin-bottom: 6px\">\r\n          <span>{{ item.author }}</span> / <span>{{ item.date }}</span> /\r\n          <span>{{ item.press }}</span>\r\n        </p>\r\n        <p slot=\"content\" style=\"width: 300px\" class=\"abstract\">\r\n          {{ item.abs }}\r\n        </p>\r\n        <el-card\r\n          style=\"\r\n            width: 135px;\r\n            margin-bottom: 20px;\r\n            height: 233px;\r\n            float: left;\r\n            margin-right: 15px;\r\n          \"\r\n          class=\"book\"\r\n          bodyStyle=\"padding:10px\"\r\n          shadow=\"hover\"\r\n        >\r\n          <div class=\"cover\" @click=\"editBook(item)\">\r\n            <img :src=\"item.cover\" alt=\"封面\" />\r\n          </div>\r\n          <div class=\"info\">\r\n            <div class=\"title\">\r\n              <a href=\"\">{{ item.title }}</a>\r\n            </div>\r\n            <i class=\"el-icon-delete\" @click=\"deleteBook(item.id)\"></i>\r\n          </div>\r\n          <div class=\"author\">{{ item.author }}</div>\r\n        </el-card>\r\n      </el-tooltip>\r\n      <edit-form @onSubmit=\"loadBooks()\" ref=\"edit\"></edit-form>\r\n    </el-row>\r\n    <el-row>\r\n      <el-pagination\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-size=\"pagesize\"\r\n        :total=\"books.length\"\r\n      >\r\n      </el-pagination>\r\n    </el-row>\r\n  </div>\r\n</body>\r\n</template>\r\n\r\n<script>\r\nimport EditForm from \"./EditForm\";\r\nimport SearchBar from \"./SearchBar\";\r\nexport default {\r\n  name: \"Books\",\r\n  components: { EditForm, SearchBar },\r\n  data() {\r\n    return {\r\n      books: [],\r\n      currentPage: 1,\r\n      pagesize: 17,\r\n      //当前用户名\r\n      username: JSON.parse(window.localStorage.getItem(\"user\" || \"[]\"))\r\n        .username,\r\n    };\r\n  },\r\n  // 钩子函数 打开页面时请求数据渲染页面\r\n  mounted: function () {\r\n    this.loadBooks();\r\n  },\r\n  methods: {\r\n    //重载界面\r\n    loadBooks() {\r\n      var _this = this;\r\n      this.$axios.get(\"http://localhost:3001/api/books\",\r\n      {params: ({username: this.username})})\r\n      .then((resp) => {\r\n        if (resp) {\r\n          console.log(resp);\r\n          _this.books = resp.data;\r\n        }\r\n      });\r\n    },\r\n    handleCurrentChange: function (currentPage) {\r\n      this.currentPage = currentPage;\r\n      console.log(this.currentPage);\r\n    },\r\n    //返回搜索结果\r\n    searchResult() {\r\n      var _this = this;\r\n      this.$axios\r\n        .get(\"http://localhost:3001/api/search?keyword=\" + this.$refs.searchBar.keywords, {})\r\n        .then((resp) => {\r\n          if (resp) {\r\n            _this.books = resp.data;\r\n          }\r\n        });\r\n    },\r\n    //删除所选图书\r\n    deleteBook(id) {\r\n      this.$confirm(\"此操作将永久删除该书籍, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          this.$axios.post(\"http://localhost:3001/api/delete\", { id: id }).then((resp) => {\r\n            if (resp) {\r\n              this.loadBooks();\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n          });\r\n        });\r\n      // alert(id)\r\n    },\r\n    //编辑所选图书\r\n    editBook(item) {\r\n      console.log(item);\r\n      this.$refs.edit.dialogFormVisible = true;\r\n      this.$refs.edit.form = {\r\n        id: item.id,\r\n        cover: item.cover,\r\n        title: item.title,\r\n        author: item.author,\r\n        date: item.date,\r\n        press: item.press,\r\n        abs: item.abs,\r\n        category: {\r\n          id: item.cid\r\n        },\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.cover {\r\n  width: 115px;\r\n  height: 172px;\r\n  margin-bottom: 7px;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n}\r\n\r\nimg {\r\n  width: 115px;\r\n  height: 172px;\r\n  /*margin: 0 auto;*/\r\n}\r\n\r\n.title {\r\n  font-size: 14px;\r\n  text-align: left;\r\n}\r\n\r\n.author {\r\n  color: #333;\r\n  width: 102px;\r\n  font-size: 13px;\r\n  margin-bottom: 6px;\r\n  text-align: left;\r\n}\r\n\r\n.abstract {\r\n  display: block;\r\n  line-height: 17px;\r\n}\r\n\r\n.el-icon-delete {\r\n  cursor: pointer;\r\n  float: right;\r\n}\r\n\r\n.switch {\r\n  display: flex;\r\n  position: absolute;\r\n  left: 780px;\r\n  top: 25px;\r\n}\r\n\r\na {\r\n  text-decoration: none;\r\n}\r\n\r\na:link,\r\na:visited,\r\na:focus {\r\n  color: #3377aa;\r\n}\r\n\r\nbody::-webkit-scrollbar {\r\n\r\n  display: none; /* Chrome Safari */\r\n\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/library/Books.vue","<template>\r\n  <div\r\n    style=\"\r\n      margin-bottom: 30px;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n    \"\r\n  >\r\n    <el-input\r\n      @keyup.enter.native=\"searchClick\"\r\n      placeholder=\"通过书名或作者搜索...\"\r\n      prefix-icon=\"el-icon-search\"\r\n      size=\"small\"\r\n      style=\"width: 400px; margin-right: 10px\"\r\n      v-model=\"keywords\"\r\n    >\r\n    </el-input>\r\n    <el-button\r\n      size=\"small\"\r\n      type=\"primary\"\r\n      icon=\"el-icon-search\"\r\n      @click=\"searchClick\"\r\n      >搜索</el-button\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"SearchBar\",\r\n  data() {\r\n    return {\r\n      keywords: \"\",\r\n      books: [],\r\n      cardLoading: [],\r\n    };\r\n  },\r\n  methods: {\r\n    searchClick() {\r\n      this.$emit(\"onSearch\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/library/SearchBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('body',[_c('div',[_c('el-row',{staticStyle:{\"height\":\"840px\"}},[_c('search-bar',{ref:\"searchBar\",on:{\"onSearch\":_vm.searchResult}}),_vm._v(\" \"),_vm._l((_vm.books.slice(\r\n          (_vm.currentPage - 1) * _vm.pagesize,\r\n          _vm.currentPage * _vm.pagesize\r\n        )),function(item){return _c('el-tooltip',{key:item.id,attrs:{\"effect\":\"dark\",\"placement\":\"right\"}},[_c('p',{staticStyle:{\"font-size\":\"14px\",\"margin-bottom\":\"6px\"},attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\"\\r\\n          \"+_vm._s(item.title)+\"\\r\\n        \")]),_vm._v(\" \"),_c('p',{staticStyle:{\"font-size\":\"13px\",\"margin-bottom\":\"6px\"},attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('span',[_vm._v(_vm._s(item.author))]),_vm._v(\" / \"),_c('span',[_vm._v(_vm._s(item.date))]),_vm._v(\" /\\r\\n          \"),_c('span',[_vm._v(_vm._s(item.press))])]),_vm._v(\" \"),_c('p',{staticClass:\"abstract\",staticStyle:{\"width\":\"300px\"},attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\"\\r\\n          \"+_vm._s(item.abs)+\"\\r\\n        \")]),_vm._v(\" \"),_c('el-card',{staticClass:\"book\",staticStyle:{\"width\":\"135px\",\"margin-bottom\":\"20px\",\"height\":\"233px\",\"float\":\"left\",\"margin-right\":\"15px\"},attrs:{\"bodyStyle\":\"padding:10px\",\"shadow\":\"hover\"}},[_c('div',{staticClass:\"cover\",on:{\"click\":function($event){return _vm.editBook(item)}}},[_c('img',{attrs:{\"src\":item.cover,\"alt\":\"封面\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title\"},[_c('a',{attrs:{\"href\":\"\"}},[_vm._v(_vm._s(item.title))])]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.deleteBook(item.id)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"author\"},[_vm._v(_vm._s(item.author))])])],1)}),_vm._v(\" \"),_c('edit-form',{ref:\"edit\",on:{\"onSubmit\":function($event){return _vm.loadBooks()}}})],2),_vm._v(\" \"),_c('el-row',[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pagesize,\"total\":_vm.books.length},on:{\"current-change\":_vm.handleCurrentChange}})],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b02a8a94\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/library/Books.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b02a8a94\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Books.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Books.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Books.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b02a8a94\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Books.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b02a8a94\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/library/Books.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-container>\r\n    <el-aside style=\"width: 200px; margin-top: 20px\">\r\n      <switch></switch>\r\n      <!-- 用 ref 属性设置了一个引用名，可以通过 _this.refs.sideMenu 来引用侧面导航栏的实例，并获取它的 data 了 -->\r\n      <!-- 自定义函数indexSelect,在student组件中调用 -->\r\n      <SideMenu @indexSelect=\"listByCategory\" ref=\"sideMenu\"></SideMenu>\r\n    </el-aside>\r\n    <el-main>\r\n      <books class=\"books-area\" ref=\"booksArea\"></books>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport SideMenu from \"./SideMenu\";\r\nimport Books from \"./Books\";\r\n\r\nexport default {\r\n  name: \"AppLibrary\",\r\n  data(){\r\n    return{\r\n      //当前用户名\r\n      username: JSON.parse(window.localStorage.getItem(\"user\" || \"[]\"))\r\n        .username,\r\n    }\r\n  },\r\n  components: { Books, SideMenu },\r\n  methods: {\r\n    //分类显示\r\n    listByCategory() {\r\n      var _this = this;\r\n      // 通过ref获取子组件中的数据\r\n      var cid = this.$refs.sideMenu.cid;\r\n      // console.log(cid);\r\n      //如果标签是全部，则返回所有图书\r\n      if (cid == 0) {\r\n        // console.log('进入了');\r\n        this.$axios\r\n          .get(\"http://localhost:3001/api/books\", {\r\n            params: { username: this.username },\r\n          })\r\n          .then((resp) => {\r\n            if (resp) {\r\n              _this.$refs.booksArea.books = resp.data;\r\n            }\r\n          });\r\n      } else {\r\n        // var url = \"categories/\" + cid + \"/books\";\r\n        this.$axios\r\n          .get(\"http://localhost:3001/api/categories\", {\r\n            params: {\r\n              cid: cid,\r\n            },\r\n          })\r\n          .then((resp) => {\r\n            if (resp && resp.status === 200) {\r\n              _this.$refs.booksArea.books = resp.data;\r\n            }\r\n          });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.books-area {\r\n  width: 990px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/library/LibraryIndex.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-aside',{staticStyle:{\"width\":\"200px\",\"margin-top\":\"20px\"}},[_c('switch'),_vm._v(\" \"),_c('SideMenu',{ref:\"sideMenu\",on:{\"indexSelect\":_vm.listByCategory}})],1),_vm._v(\" \"),_c('el-main',[_c('books',{ref:\"booksArea\",staticClass:\"books-area\"})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-65814732\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/library/LibraryIndex.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-65814732\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LibraryIndex.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LibraryIndex.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LibraryIndex.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-65814732\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./LibraryIndex.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-65814732\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/library/LibraryIndex.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}